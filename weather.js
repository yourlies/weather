!function(){var y={};y.scene=document.getElementById("canv"),y.camera=y.scene.getContext("2d"),y.entity=60,y.particles=[],y.time=0,y.width=window.innerWidth,y.height=window.innerHeight,y.FPS=60,y.g=15;var t={random:function(t,i){return Math.random()*(i-t)+t}};window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/y.FPS)},window.cancelAnimationFrame=window.cancelAnimationFrame||window.clearTimeout;function i(){this.x=Math.random()*y.width,this.y=Math.random()*y.height,this.moveX=this.x,this.moveY=this.y,this.r=t.random(2,4),this.alpha=t.random(.3,1),this.status=!1,this.velocity={x:t.random(-.35,.35),y:t.random(.75,1.5)},this.chance=1}i.prototype.update=function(t){this.updater=t,this.updater(y.camera,this)},i.prototype.render=function(t){"function"==typeof t&&(this.handle=t),y.time+=.016,this.x+=this.velocity.x,this.y+=this.velocity.y,(this.y>y.scene.height||this.x>y.scene.width)&&(Math.random()<this.chance?(this.x=Math.random()*y.scene.width,this.y=0):(this.x=0,this.y=Math.random()*y.scene.height),this.status=!1)};function e(t){if(0!=t.y)return!1;for(var i=0;i<y.particles.length;i++)if(y.particles[i].x!=t.x||y.particles[i].y!=t.y){var e={x0:t.x,x1:t.moveX,y0:t.y,y1:t.moveY},n={x0:y.particles[i].x,x1:y.particles[i].moveX,y0:y.particles[i].y,y1:y.particles[i].moveY},a=(h=n,m=void 0,o=((s=e).y0-s.y1)/(s.x0-s.x1),r=s.y0-o*s.x0,c=Math.abs(o*h.x0+-1*h.y0+r)/Math.sqrt(o*o+1),m=!1,s.x0<h.x0&&s.x1>h.x0&&(m=!0),s.x0>h.x0&&h.x1>s.x0&&(m=!0),{d:c,isOverlapped:m});50<a.d||a.isOverlapped&&(t.velocity.x=.001,t.velocity.y=.001,t.status="rainy")}var s,h,o,r,c,m}var n,a=function(){y.camera.clearRect(0,0,y.scene.width,y.scene.height);for(var t=0;t<y.particles.length;t++){var i=y.particles[t];"rainy"!=i.status&&(i.chance=.7,i.velocity.y=Math.floor(8+2*Math.random()),i.velocity.x=1.2*i.velocity.y,i.increment=30,i.g=y.g,i.alpha=.15,i.status="rainy"),i.render(e),i.update(function(t){t.beginPath(),t.moveTo(this.x,this.y),this.velocity.y+=1/60*this.g,this.velocity.x=1.2*this.velocity.y;var i=Math.atan(this.velocity.y/this.velocity.x),e=Math.cos(i)*this.increment,n=Math.sin(i)*this.increment;t.lineTo(this.x+e,this.y+n),this.moveX=this.x+e,this.moveY=this.y+n;t.createLinearGradient(this.x,this.y,this.x+e,this.y+n);t.lineWidth=2,t.strokeStyle="rgba(0, 0, 0, "+this.alpha+")",t.stroke(),t.closePath()})}requestAnimationFrame(a)},s=0,h=function(){if(60<=++s){s=0;var t=new i;y.particles.push(t)}y.particles.length>=y.entity?cancelAnimationFrame(n):n=requestAnimationFrame(h)};y.scene.width=y.width,y.scene.height=y.height,h(),a()}();