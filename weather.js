!function(){var a={};a.scene=document.getElementById("canv"),a.camera=a.scene.getContext("2d"),a.entity=20,a.particles=[],a.time=0,a.width=window.innerWidth,a.height=window.innerHeight,a.entity=Math.floor(a.width*a.height/4e4),a.FPS=60,a.g=10,a.leans=.5;var t={random:function(t,i){return Math.random()*(i-t)+t}};window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/a.FPS)},window.cancelAnimationFrame=window.cancelAnimationFrame||window.clearTimeout;function i(){this.x=Math.random()*a.width,this.y=Math.random()*a.height,this.moveX=this.x,this.moveY=this.y,this.r=t.random(2,4),this.alpha=t.random(.3,1),this.status=!1,this.velocity={x:t.random(-.35,.35),y:t.random(.75,1.5)},this.chance=1}i.prototype.update=function(t){this.updater=t,this.updater(a.camera,this)},i.prototype.render=function(t){"function"==typeof t&&(this.handle=t),a.time+=.016,this.x+=this.velocity.x,this.y+=this.velocity.y,(this.y>a.scene.height||this.x>a.scene.width)&&(Math.random()>this.chance?(this.x=Math.random()*a.scene.width,this.y=0):(this.x=0,this.y=Math.random()*a.scene.height),this.status=!1)};var e,n=function(){if(window.istop)return requestAnimationFrame(n),!1;a.camera.clearRect(0,0,a.scene.width,a.scene.height);for(var t=0;t<a.particles.length;t++){var i=a.particles[t];if("rainy"!=i.status){a.height*a.leans>a.height?i.chance=a.width/a.leans/a.height*.5:i.chance=a.height*a.leans/a.width*.5,i.velocity.y=Math.floor(13+2*Math.random()),i.g=a.g;var e=Math.random();switch(!0){case.66<e:i.increment=40;break;case.33<e:i.increment=35,i.velocity.y=.8*i.velocity.y,i.g=.8*a.g;break;default:i.increment=30,i.velocity.y=.6*i.velocity.y,i.g=.6*a.g}i.velocity.x=i.velocity.y*a.leans,i.alpha=.1,i.status="rainy",i.back=!1,.7<Math.random()&&(i.velocity.y=.5*i.velocity.y,i.g=.5*a.g,i.back=!0)}i.render(),i.update(function(t){t.beginPath(),t.moveTo(this.x,this.y),this.velocity.y+=1/60*this.g,this.velocity.x=this.velocity.y*a.leans;var i=Math.atan(this.velocity.y/this.velocity.x),e=Math.cos(i)*this.increment,n=Math.sin(i)*this.increment;t.lineTo(this.x+e,this.y+n),this.moveX=this.x+e,this.moveY=this.y+n,t.lineWidth=2,t.strokeStyle="rgba(0, 0, 0, "+this.alpha+")",t.stroke(),t.closePath()})}requestAnimationFrame(n)},h=0,o=function(){if(60<=++h){h=0;var t=new i;a.particles.push(t)}a.particles.length>=a.entity?cancelAnimationFrame(e):e=requestAnimationFrame(o)};a.scene.width=a.width,a.scene.height=a.height,o(),n(),window.stop=function(){window.istop=!0},window.begin=function(){window.istop=!1}}();